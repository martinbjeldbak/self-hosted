# sudo docker-compose run --entrypoint /bin/bash --rm plex-meta-manager
# python plex_meta_manager.py --run --no-missing --cache-libraries
# python plex_meta_manager.py --run --no-missing --cache-libraries --run-collections "Wizarding World"
libraries:
  Film:
    metadata_path:
    - file: config/martins   # important this comes first to load my collections with same name as later
    - pmm: oscars
      template_variables:
        radarr_tag: pmm, oscars
        sonarr_tag: pmm, oscars
        radarr_add_missing: true
    - pmm: imdb
      template_variables:
        use_popular: true
        use_top: true
        use_lowest: false
        radar_add_missing_top: true
        sonarr_add_missing_top: true
        radar_add_missing_popular: false
        sonarr_add_missing_popular: false
        visible_home_popular: true
        visible_shared_popular: true
        radarr_tag_key: pmm, imdb
        sonarr_tag_key: pmm, imdb
    - pmm: actor
    - pmm: genre
      template_variables:
        use_separator: true
    - pmm: seasonal
      template_variables:
        use_separator: true
        use_patrick: false
        use_mother: false
        use_memorial: false
        use_father: false
        use_independence: false
        use_labor: false
    - pmm: universe
      template_variables:
        use_separator: true
        radar_add_missing_fast: true
        sonarr_add_missing_fast: true
        radar_add_missing_star: true
        sonarr_add_missing_star: true
        radar_add_missing_middle: true
        sonarr_add_missing_middle: true
        radar_add_missing_mummy: true
        sonarr_add_missing_mummy: true
        radar_add_missing_wizard: true
        sonarr_add_missing_wizard: true
        radarr_tag_key: pmm, universe
        sonarr_tag_key: pmm, universe
    - pmm: country
      use_separator: true
      template_variables:
        include:
        - Denmark
        - Australia
        - United States of America
        - Myanmar
        - Korea
        - Japan
    - pmm: franchise     # very slow due to dynamic collection
    - pmm: streaming
      template_variables:
        use_separator: true
        use_all4: false
        use_bet: false
        use_britbox: false
        use_hayu: false
        use_hulu: false
        use_now: false
        use_paramount: false
        use_peacock: false


    overlay_path:
    - reapply_overlays: false   # turn true if redoing overlays
    - pmm: versions
    - pmm: ribbon
    - pmm: resolution
    - pmm: ratings
      template_variables:
        rating2: critic
        rating3: audience
        rating2_image: rt_tomato
        rating3_image: rt_popcorn
        vertical_position: bottom
    operations:
      assets_for_all: true
      delete_unmanaged_collections: true
      delete_collections_with_less: 2
      #mass_critic_rating_update: mdb_tomatoes # very slow
      #mass_audience_rating_update: mdb_tomatoesaudience
      #mass_user_rating_update: trakt_user
  Anime:
    operations:
      assets_for_all: true
  TV-serier:
    metadata_path:
    - file: config/martins   # important this comes first to load my collections with same name as later
    - pmm: actor
    - pmm: genre
      template_variables:
        use_separator: true
    - pmm: country
      template_variables:
        use_separator: true
        include:
        - dk
        - au
        - us
        - mm
        - kr
        - jp
    - pmm: franchise     # very slow due to dynamic collection
    - pmm: streaming
      template_variables:
        use_separator: true
        use_all4: false
        use_bet: false
        use_britbox: false
        use_hayu: false
        use_hulu: false
        use_now: false
        use_paramount: false
        use_peacock: false
    - pmm: emmy
      template_variables:
        radarr_tag: pmm, emmy
        sonarr_tag: pmm, emmy
    - pmm: imdb
      template_variables:
        use_popular: true
        use_top: true
        use_lowest: false
        radar_add_missing_top: true
        sonarr_add_missing_top: true
        radar_add_missing_popular: false
        sonarr_add_missing_popular: false
        visible_home_popular: true
        visible_shared_popular: true
        radarr_tag_key: pmm, imdb
        sonarr_tag_key: pmm, imdb
    overlay_path:
    - reapply_overlays: false   # turn on if redoing overlays
    - pmm: versions
    - pmm: resolution
    - pmm: ribbon
    - pmm: ratings
      template_variables:
        rating2: critic
        rating3: audience
        rating2_image: rt_tomato
        rating3_image: rt_popcorn
        vertical_position: bottom

    operations:
      assets_for_all: true
      delete_unmanaged_collections: true
      delete_collections_with_less: 2
      #mass_critic_rating_update: mdb_tomatoes # very slow
      #mass_audience_rating_update: mdb_tomatoesaudience
      #mass_user_rating_update: trakt_user
      #mass_episode_critic_rating_update: imdb
      #mass_episode_audience_rating_update: tmdb
playlist#_files:
- git: PMM/playlist
  template_variables:
    libraries: Film, TV-serier
settings:
  cache: true
  cache_expiration: 60
  asset_directory: config/assets
  asset_folders: true
  asset_depth: 0
  create_asset_folders: false
  dimensional_asset_rename: false
  download_url_assets: false
  show_missing_season_assets: false
  show_missing_episode_assets: false
  show_asset_not_needed: true
  sync_mode: append
  minimum_items: 1
  default_collection_order:

  delete_not_scheduled: false
  run_again_delay: 2
  missing_only_released: false
  only_filter_missing: false
  show_unmanaged: true
  show_filtered: false
  show_options: false
  show_missing: true
  show_missing_assets: false
  save_missing: true
  tvdb_language: eng
  ignore_ids:
  ignore_imdb_ids:
  item_refresh_delay: 0
  verify_ssl: true
  custom_repo:
  playlist_sync_to_users: all
  prioritize_assets: true
  playlist_report: true
  check_nightly: false
  delete_below_minimum: false
  show_unconfigured: true
  playlist_exclude_users:
plex:
  url: http://plex:32400
  token: 7WaTyekpoKfvkiUy3eAt
  timeout: 60
  clean_bundles: false
  empty_trash: false
  optimize: false
  db_cache:
tmdb:
  apikey: 725d3f26a4b4fa906ebf06912c8cee7f
  language: en
  cache_expiration: 60
  region:
tautulli:
  url: http://tautulli:8181
  apikey: 1d92ac4c5d344c28abea1ad76418c09b
radarr:
  url: http://radarr:7878
  token: 726d5b92ff9d4e7e899a77511ce569e2
  add_missing: true
  add_existing: true
  root_folder_path: /data/media/movies
  monitor: none
  availability: cinemas
  quality_profile: Main
  tag: pmm
  search: false
  radarr_path:
  plex_path:
  upgrade_existing: false
  ignore_cache: false
sonarr:
  url: http://sonarr:8989
  token: aa4444075d594b2598475adef4b6185b
  add_missing: true
  add_existing: true
  root_folder_path: /data/media/tv
  monitor: none
  quality_profile: Main
  language_profile: English
  series_type: standard
  season_folder: true
  tag: pmm
  search: false
  cutoff_search: false
  sonarr_path:
  plex_path:
  upgrade_existing: false
  ignore_cache: false
trakt:
  client_id: 20aa764a35cb47b24549d17f791c1e78e782566ee64b2b792ee5aed89b89159d
  client_secret: b73cc945d8a6cd6322e518cb7e5cd291c0c3015667e17a19295a3265bc3ca596
  pin:
  authorization:
    access_token: 297860136770fb7304430121db396b8b4959a4a69ae93122624310810c6c36e4
    token_type: Bearer
    expires_in: 7889237
    refresh_token: 6883ca466adfcf30008da093fd32c7c47264bd12b3c0225df0b4d6ef52660acd
    scope: public
    created_at: 1699455606
mdblist:
  apikey: dwxk6bfpc3oypfqixsuztnxsf
  cache_expiration: 60
